<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Dutch Decentralized Applications">
    <meta name="description" content="EverSAFU = Ever Secure Asset Fund for Users EverSAFU Version 2 (ES2) provides a decentralized financial asset that rewards users with a BUSD Dividend.">
    <meta property="og:description" content="EverSAFU = Ever Secure Asset Fund for Users EverSAFU Version 2 (ES2) provides a decentralized financial asset that rewards users with a BUSD Dividend." />
    <meta property="og:title" content="EverSAFU V2 - Dapp" />
    <title>ES2 - Dapp</title>
    <meta property="og:image" itemprop="image" content="img/EverSAFU.png" />
    <meta property="og:url" content="https://eversafuv2.com" />
    <link rel="shortcut icon" href="img/EverSAFU.png">
    <link rel="apple-touch-icon" href="img/EverSAFU.png">
    <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link href='css/site.css' rel='stylesheet'>
</head>
<body>
    <!--Sidebar-->
    <div class="nav-mob hidepc" style="display: none;">
        <div class="container-fluid mb-4 text-center">
            <button class="btn" style="margin-left:1rem; margin-top:-2.5rem; position:absolute; top:3rem; left:0rem;" onclick="HideMenu();"><i class="bx bx-x" id="" style="color:white; font-size:2.1rem;"></i></button>
            <img src="img/Logo.gif" alt="EverSAFU V2 logo" style="width:35%; height:35%; object-fit: contain; margin-top:0.5rem;">
        </div>
        <div class="container text-center" style="font-weight:800;">
            <br />
            <a style="text-decoration:none;" target="_blank" href="https://eversafuv2.com"><h2 class="text-gradient mb-3">Project Home</h2></a>
            <a style="text-decoration:none;" target="_blank" href="https://eversafuv2.gitbook.io/eversafu-version-2-protocol/"><h2 class="text-gradient mb-4">Gitbook</h2></a>
            <br />
            <a target="_blank" href="https://twitter.com/EversafuV2"><i class="bx bxl-twitter text-gradient" style="font-size:2.5rem;"></i></a>
            <a target="_blank" href="https://t.me/EverSAFU_V2_OFFICIAL"><i class="bx bxl-telegram text-gradient" style="font-size:2.5rem;"></i></a>
            <a target="_blank" href="https://discord.gg/ZaUZdkNf3P"><i class="bx bxl-discord text-gradient" style="font-size:2.5rem;"></i></a>
            <a target="_blank" href="https://www.facebook.com/EverSafuv2/"><i class="bx bxl-facebook text-gradient" style="font-size:2.5rem;"></i></a>
        </div>
    </div>
    <div id="content-wrapper" class="d-flex flex-column">
        <div id="content">
            <div class="navbar-mob hidepc">
                <div class="row" style="padding:0; margin:0;">
                    <div class="col-cust text-center" style="border-right: solid 2px #3b116f">
                        <a class="button-mob" href="/raffle">
                            <i class="bx bx-clover fs-4 pt-3"></i>
                            <br />
                            <h6 class="pb-1">Luck</h6>
                        </a>
                    </div>
                    <div class="col-cust text-center" style="border-right: solid 2px #3b116f">
                        <a class="button-mob" href="/account">
                            <i class="bx bx-user fs-4 pt-3"></i>
                            <br />
                            <h6 class="pb-1">Acc</h6>
                        </a>
                    </div>
                    <div class="col-cust text-center" style="border-right: solid 2px #3b116f">
                        <a class="button-mob" href="/crew">
                            <i class="bx bx-chair active fs-4 pt-3"></i>
                            <br />
                            <h6 class="pb-1 active">Crew</h6>
                        </a>
                    </div>
                    <div class="col-cust text-center" style="border-right: solid 2px #3b116f">
                        <a class="button-mob" href="/minting">
                            <i class="bx bx-chair fs-4 pt-3"></i>
                            <br />
                            <h6 class="pb-1">Mint</h6>
                        </a>
                    </div>
                    <div class="col-cust text-center">
                        <a class="button-mob" href="/staking">
                            <i class="bx bxs-bank fs-4 pt-3"></i>
                            <br />
                            <h6 class="pb-1">Stake</h6>
                        </a>
                    </div>
                </div>
            </div>
            <nav class="navbar navbar-expand-lg navbar-dark">
                <div class="container">
                    <a class="navbar-brand text-gradient2 fs-5" href="/" style="font-weight:700;"><img alt="EverSAFU V2 Logo" class="brand-logo" src="img/EverSAFU.png"><span class="atmospheric fs-5">E<span class="atmospheric hidemob">ver</span>S<span class="atmospheric hidemob">afu V</span>2</span></span> - </span></span class="atmospheric fs-5">   DASH</span></a
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="https://eversafuv2.com">Project Site</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Token
                                </a>
                                <ul class="dropdown-menu btn-gradient-outline-wrap" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="/account">Account</a></li>
                                    <!--<li><a class="dropdown-item" href="/raffle">Calculator</a></li>-->
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    NFT
                                </a>
                                <ul class="dropdown-menu btn-gradient-outline-wrap" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="/minting">Minting & Gallery</a></li>
                                    <li><a class="dropdown-item" href="/crew">Crew Quarters</a></li>
                                    <li><hr class="dropdown-divider" style="background:black !important; opacity: 1;"></li>
                                    <li><a class="dropdown-item" href="/staking">Staking</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <form class="d-flex">
                        <div class="hidepc" style="margin-right:1.5rem; margin-top:0.5rem;">
                            <a class="fs-2" style="color: #6dbffc !important " onclick="$('.nav-mob').toggle(300);"><i class="bx bx-menu"></i></a>
                        </div>

                        <div class="btn-gradient-outline-wrap" id="btn-connect">
                            <button class="btn btn-gradient-outline fs-5" type="button" data-bs-toggle="modal" data-bs-target="#walletModal">Connect</button>
                        </div>

                        <div class="dropstart" style="display:none;" id="btn-disconnect">
                            <button class="btn-gradient-outline-wrap" type="button" id="walletMenu" data-bs-toggle="dropdown" aria-expanded="false" style="border-radius:15px;">
                                <i class="btn-gradient-outline bx bx-wallet fs-3" style="padding:0.65rem;"></i>
                            </button>

                            <ul class="dropdown-menu btn-gradient-outline-wrap" aria-labelledby="walletMenu" style="position:absolute;">
                                <li><span class="dropdown-item" id="useraccount"></span></li>
                                <li><hr class="dropdown-divider" style="background:black !important; opacity: 1;"></li>
                                <li><a class="dropdown-item" onclick="AddCoin();">Add ES2</a></li>
                                <li><a class="dropdown-item" onclick="AddBUSD();">Add BUSD</a></li>
                                <li><a class="dropdown-item" onclick="Disconnect();">Disconnect</a></li>
                            </ul>
                        </div>
                    </form>
                </div>
            </nav>

            <div class="align-items-center justify-content-center d-flex mt-5 pb-5">
                <div class="container">
                    <h1 class="text-gradient2 atmospheric text-center-mob">ES2 - Crew Lounge</h1>
                    <hr />
                    <div class="text-center-mob">
                        <div class="btn-gradient-outline-wrap text-white claimbut" style="max-width:275px;">
                            <button class="btn-gradient-outline atmospheric fs-5 p-1 btn-block" onclick="ClaimRewards_Crew();">Claim Rewards</button>
                        </div>
                    </div>
                    <h5 class="text-white-50 text-center" id="useraccount"></h5>
                    <div class="row mt-3 align-items-center justify-content-center" style="padding:0; margin:0;">
                        <div class="col-lg-6 col-md-6 col-12 mt-4">
                            <div class="card text-center btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white;">
                                <div class="btn-gradient-outline" style="padding:1rem;">
                                    <h5 class="text-gradient atmospheric-pc">BNB Balance</h5>
                                    <h4 class="mt-3 text-white-75" id="bnbBal">Loading...</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12 mt-4">
                            <div class="card text-center btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white;">
                                <div class="btn-gradient-outline" style="padding:1rem;">
                                    <h5 class="text-gradient atmospheric-pc">Creditz Balance</h5>
                                    <h4 class="mt-3 text-white-75" id="credBal">Loading...</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12 mt-4">
                            <div class="card text-center btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white;">
                                <div class="btn-gradient-outline" style="padding:1rem;">
                                    <h5 class="text-gradient atmospheric-pc">ES2 Balance</h5>
                                    <h4 class="mt-3 text-white-75" id="es2Bal">Loading...</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12 mt-4">
                            <div class="card text-center btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white;">
                                <div class="btn-gradient-outline" style="padding:1rem;">
                                    <h5 class="text-gradient atmospheric-pc">CRDZ Rewards</h5>
                                    <h4 class="mt-3 text-white-75" id="rewardsBal">Loading...</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mt-4">
                            <div class="card btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white; height:100%;">
                                <div class="btn-gradient-outline" style="padding: 1rem; height: 100%;">
                                    <h5 class="text-gradient atmospheric text-center">Mint NFT</h5>
                                    <hr />
                                    <img src="img/Logo.gif" style="height:100%; width:100%; object-fit:contain; max-height:250px;">
                                    <h4 class="mt-3 text-white-75 text-gradient pad1" id="">Price: <span style="float:right">0.25 BNB</span></h4>
                                    <h4 class="text-white-75 text-gradient pad1">Minted: <span style="float:right"><span id="minted">0</span>/250</span></h4>
                                    <div class="btn-gradient-outline-wrap mt-5">
                                        <button class="btn-gradient-outline btn-block atmospheric" onclick="Mint_Crew();">Mint</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mt-4">
                            <div class="card btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white; height: 100%;">
                                <div class="btn-gradient-outline text-center" style="padding: 1rem; height: 100%;">
                                    <h5 class="text-gradient atmospheric">Vending Machine</h5>
                                    <hr />
                                    <img src="img/vend3.png" style="height:100%; width:100%; object-fit:contain; max-height:250px;">
                                    <h4 class="mt-3 text-white-75 text-gradient pad1" id="">1 ES2 = 1 Credit</h4>
                                    <div class="input-group btn-gradient-outline mt-2" style="width: 100%; border-radius: 10px; background:black; border: solid 1px grey; ">
                                        <input type="number" id="input-credit" class="form-control btn-gradient-outline atmospheric" placeholder="Amount" style="border:none; margin-right:1rem; ">
                                    </div>
                                    <div class="btn-gradient-outline-wrap mt-4">
                                        <button id="btnbuy" class="btn-gradient-outline btn-block atmospheric" style="display:none;" onclick="GetCredits_Crew();">Buy</button>
                                        <button id="btnapprove" class="btn-gradient-outline btn-block atmospheric" onclick="ApproveES2();">Approve</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 mt-4">
                            <div class="card btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white; height: 100%;">
                                <div class="btn-gradient-outline" style="padding: 1rem; height: 100%;">
                                    <h5 class="text-gradient atmospheric text-center">Costs</h5>
                                    <hr />
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">Level Up: <span style="float:right">25 CRDZ</span></h4>
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">Name Change: <span style="float:right">50 CRDZ</span></h4>
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">Bio Change: <span style="float:right">150 CRDZ</span></h4>
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">Rank Up: <span style="float:right">150 CRDZ</span></h4>
                                    <h5 class="text-gradient atmospheric text-center mt-3">Info</h5>
                                    <hr />
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">Max Rank: <span style="float:right">255</span></h4>
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">Max Level: <span style="float:right">255/Rank</span></h4>
                                    <h4 class="mt-3 text-white-75 text-gradient-alt pad1" id="">WARNING:<br />Must be at least level 150 to rank up. Ranking up resets level to 0!</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h1 class="text-gradient2 atmospheric text-center-mob mt-5 pt-3">Gallery</h1>
                    <hr />
                    <div class="row mt-4 align-items-center justify-content-center" style="padding:0; margin:0;" id="nftGallery">
                    </div>
                </div>
            </div>

            <footer class="footer small  text-center pt-5 pb-3 mt-5">
                <div class="container pt-3">
                    <a target="_blank" href="https://twitter.com/EversafuV2/" class="social text-gradient2"><i class="bx bxl-twitter"></i></a>
                    <a target="_blank" href="https://t.me/EverSAFU_V2_OFFICIAL" class="social text-gradient2"><i class="bx bxl-telegram"></i></a>
                    <a target="_blank" href="https://www.facebook.com/EverSafuv2/" class="social text-gradient2"><i class="bx bxl-facebook"></i></a>
                    <a target="_blank" href="https://www.instagram.com/eversafu_v2/" class="social text-gradient2"><i class="bx bxl-instagram"></i></a>
                    <a target="_blank" href="https://discord.gg/ZaUZdkNf3P" class="social text-gradient2"><i class="bx bxl-discord"></i></a>
                </div><br>
                <div class="container px-4 px-lg-5 text-white">2022 © <a href="https://www.dutchdapps.com/" style="text-decoration:none; color:inherit;">DUTCH DAPPS</a> - ALL RIGHTS RESERVED</div>
            </footer>
        </div>
    </div>

    <div class="modal fade" id="walletModal" tabindex="-1" aria-labelledby="chainModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background: #2c2626; box-shadow: 0 0 0 3px #8c8c8c; ">
                <div class="modal-body" style="background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.6) 75%, #000 100%), url(img/bg7.jpg) no-repeat; background-size: contain; ">
                    <div class="row" style="padding:0; margin:0;">
                        <button onclick="Connect();" class="col-5 text-center mt-3 pt-3 pb-3" style="background: black; box-shadow: 0 0  7px white; border-radius: 10px; color: white; ">
                            <img src="img/mm.png" />
                            <h6 class="pt-3">MetaMask</h6>
                        </button>
                        <div class="col-2">
                        </div>
                        <button onclick="Connect();" class="col-5 text-center mt-3 pt-3 pb-3" style="background: black; box-shadow: 0 0  7px white; border-radius: 10px; color: white; ">
                            <img src="img/tw.png" />
                            <h6 class="pt-3">Trust Wallet</h6>
                        </button>
                        <button onclick="ConnectWC();" class="col-5 text-center mt-3 pt-3 pb-3" style="background: black; box-shadow: 0 0  7px white; border-radius: 10px; color: white; ">
                            <img src="img/wc.png" />
                            <h6 class="pt-3">Wallet Connect</h6>
                        </button>
                        <div class="col-2 mt-3">
                        </div>
                        <button onclick="Connect();" class="col-5 text-center mt-3 pt-3 pb-3" style="background: black; box-shadow: 0 0  7px white; border-radius: 10px; color: white; ">
                            <img src="img/sfp.png" style="filter:invert(0.75)" />
                            <h6 class="pt-3">Other</h6>
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/3.0.0-rc.5/web3.min.js" integrity="sha512-jRzb6jM5wynT5UHyMW2+SD+yLsYPEU5uftImpzOcVTdu1J7VsynVmiuFTsitsoL5PJVQi+OtWbrpWq/I+kkF4Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://github.com/WalletConnect/walletconnect-monorepo/releases/download/1.4.1/web3-provider.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/vars.js"></script>
    <script src="js/connectivity.js"></script>
    <script src="js/main.js"></script>

    <script>
        Load();

        async function Init_Crew() {
            var totalSupply = await contractBSCCrew.methods.totalSupply().call();

            if (account !== "") {
                var bnbBal = await web3.eth.getBalance(account);
                bnbBal = web3.utils.fromWei(bnbBal);
                var credBal = await contractBSCCred.methods.balanceOf(account).call();
                credBal = web3.utils.fromWei(credBal);
                var es2Bal = await contractBsc.methods.balanceOf(account).call();
                es2Bal = Number(es2Bal) / Math.pow(10, 5);

                var allowance = await contractBsc.methods.allowance(account, caVending).call();
                allowance = web3.utils.fromWei(allowance);
                if (Number(allowance) > 1000) {
                    $("#btnapprove").hide();
                    $("#btnbuy").show();
                } else {
                    $("#btnapprove").show();
                    $("#btnbuy").hide();
                }

                $("#bnbBal").text(Math.floor(Number(bnbBal) * 1000) / 1000 + " BNB");
                $("#credBal").text(Math.floor(Number(credBal) * 1000) / 1000 + " CRDZ");
                $("#es2Bal").text(Math.floor(es2Bal) + " ES2");

                var nftIds = [];
                try {
                    for (let i = 0; i <= 500; i++) {
                        var nftId = await contractBSCCrew.methods.tokenOfOwnerByIndex(account, i).call();
                        nftIds.push(nftId);
                    }
                }
                catch { }

                var html = "";
                nftArray = [];
                for (let nft in nftIds) {
                    var _item = nftIds[nft];
                    var img = `https://adaboy.mypinata.cloud/ipfs/QmR55CapoMShEJXn1suKcy7v4ANTfNhNweJzXiNB4Tgu55/${_item}.png`;
                    //await $.getJSON(`https://adaboy.mypinata.cloud/ipfs/QmasFwZcHX3zq2tH2TBfVQFacMNgLaXwkjraimNJ1cZwqk/1.json`, function (data) {
                    //    img = `https://adaboy.mypinata.cloud/ipfs/` + data.image.substring(7, data.image.length);
                    //});

                    var stats = await contractBSCCrew.methods.stats(_item.toString()).call();
                    nftArray.push(_item);
                    html += `
                                                    <div class="col-lg-4 col-md-6 col-12 mt-4">
                                                        <div class="card btn-gradient-outline-wrap" style="height: fit-content; border-radius: 15px; color: white;">
                                                            <div class="btn-gradient-outline" style="padding:1rem;">
                                                                <h5 class="text-gradient atmospheric-pc">Crew #${_item}</h5>
                                                                <hr />
                                                                <img src="${img}" class="nft-img-displayed" style="height:100%; width:100%; object-fit:contain; max-height:250px;"/>
                                                                <hr />
                                                                <h4 class="mt-3 text-white-75 text-gradient pad1" id="">Name: <span style="float:right">${stats.name}</span></h4>
                                                                <h4 class="text-white-75 text-gradient pad1" id="">Rarity: <span style="float:right">${stats.rarity}</span></h4>
                                                                <h4 class="text-white-75 text-gradient pad1" id="">Level: <span style="float:right">${stats.level}</span></h4>
                                                                <h4 class="text-white-75 text-gradient pad1" id="">Rank: <span style="float:right">${stats.rank}</span></h4>
                                                                <h4 class="text-white-75 text-gradient pad1" id="">Bio:<br/>${stats.bio}</h4>
                                                                <div class="dropdown btn-gradient-outline-wrap mt-4">
                                                                  <button class="dropdown-toggle btn-gradient-outline btn-block atmospheric" type="button" id="dropdownMenuButton${_item}" data-bs-toggle="dropdown" aria-expanded="false">
                                                                    Options
                                                                  </button>
                                                                  <ul class="dropdown-menu btn-gradient-outline-wrap" aria-labelledby="dropdownMenuButton${_item}">
                                                                    <li><a class="dropdown-item" onclick="Transfer_Crew('${_item}');">Transfer</a></li>
                                                                    <li><a class="dropdown-item" onclick="SetName('${_item}');">Set Name</a></li>
                                                                    <li><a class="dropdown-item" onclick="SetBio('${_item}');">Set Bio</a></li>
                                                                    <li><a class="dropdown-item" onclick="LevelUp('${_item}');">Level Up</a></li>
                                                                    <li><a class="dropdown-item" onclick="LevelUp5('${_item}');">Level Up (5x)</a></li>
                                                                    <li><a class="dropdown-item" onclick="LevelUp25('${_item}');">Level Up (25x)</a></li>
                                                                    <li><a class="dropdown-item" onclick="RankUp('${_item}');">Rank Up</a></li>
                                                                  </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>`;
                }

                var claimAmount = await contractBSCCrew.methods.getClaimAmount(account, nftArray).call();
                claimAmount = web3.utils.fromWei(claimAmount);
                var _claimAmount = Math.floor(Number(claimAmount) * 1000) / 1000;
                $("#rewardsBal").text(_claimAmount);
                $("#nftGallery").html(html);
            } else {
                $("#bnbBal").text(0);
                $("#rewardsBal").text(0);
                $("#credBal").text(0);
                $("#es2Bal").text(0);
            }

            $("#minted").text(totalSupply);
        }

        async function Mint_Crew() {
            try {
                contractCrew.methods.mint()
                    .send({
                        from: account, value: web3.utils.toWei("0.25")
                    })
                    .on("receipt", function (data) {
                        //Success
                        Init_Crew();
                    })
                    .on("error", function (error) {
                        alert(error.message);
                    });
            }
            catch (error) {
                console.log(error);
            }
        }

        async function GetCredits_Crew() {
            try {
                var amount = $("#input-credit").val();
                amount = Number(amount) * Math.pow(10, 5);
                contractVend.methods.getCredits(account, amount.toString())
                    .send({
                        from: account
                    })
                    .on("receipt", function (data) {
                        //Success
                        Init_Crew();
                    })
                    .on("error", function (error) {
                        alert(error.message);
                    });
            }
            catch (error) {
                console.log(error);
            }
        }

        async function ApproveES2() {
            try {
                contract.methods.approve(caVending, web3.utils.toWei("500000"))
                    .send({
                        from: account,
                    })
                    .on("receipt", function (data) {
                        //Success
                        Init_Crew();
                    })
                    .on("error", function (error) {
                        alert(error.message);
                    });
            }
            catch (error) {
                console.log(error);
            }
        }

        async function RankUp(id) {
            try {
                contractCrew.methods.rankUp(id, "0")
                    .send({
                        from: account
                    })
                    .on("receipt", function (data) {
                        //Success
                        Init_Crew();
                    })
                    .on("error", function (error) {
                        alert(error.message);
                    });
            }
            catch (error) {
                console.log(error);
            }
        }

        async function LevelUp(id, nonce = null) {
            try {
                if (nonce !== null) {
                    contractCrew.methods.levelUp(id, "0")
                        .send({
                            from: account, nonce: nonce.toString()
                        })
                        .on("receipt", function (data) {
                            //Success
                            Init_Crew();
                        })
                        .on("error", function (error) {
                            alert(error.message);
                        });
                } else {
                    contractCrew.methods.levelUp(id, "0")
                        .send({
                            from: account
                        })
                        .on("receipt", function (data) {
                            //Success
                            Init_Crew();
                        })
                        .on("error", function (error) {
                            alert(error.message);
                        });
                }
            }
            catch (error) {
                console.log(error);
            }
        }

        async function SetName(id) {
            try {
                let text = prompt("Please enter your name", "New Name Text");

                if (text !== null) {
                    contractCrew.methods.setName(id, text, "0")
                        .send({
                            from: account
                        })
                        .on("receipt", function (data) {
                            //Success
                            Init_Crew();
                        })
                        .on("error", function (error) {
                            alert(error.message);
                        });
                }
            }
            catch (error) {
                console.log(error);
            }
        }

        async function SetBio(id) {
            try {
                let text = prompt("Please enter your bio", "New Bio Text");

                if (text !== null) {
                    contractCrew.methods.setBio(id, text, "0")
                        .send({
                            from: account
                        })
                        .on("receipt", function (data) {
                            //Success
                            Init_Crew();
                        })
                        .on("error", function (error) {
                            alert(error.message);
                        });
                }
            }
            catch (error) {
                console.log(error);
            }
        }

        async function Transfer_Crew(id) {
            try {
                let text = prompt("Please enter the receiver", "0x000...000");
                var check = false;

                if (web3.utils.isAddress(text)) {
                    check = confirm(`You are sending NFT ${id} to wallet address: ${text} please confirm`);
                } else {
                    alert("Invalid address please try again.");
                }

                if (check) {
                    contractCrew.methods.transferFrom(account, text, id)
                        .send({
                            from: account
                        })
                        .on("receipt", function (data) {
                            //Success
                            Init_Crew();
                        })
                        .on("error", function (error) {
                            alert(error.message);
                        });
                }
            }
            catch (error) {
                console.log(error);
            }
        }

        var nftArray = [];

        async function ClaimRewards_Crew() {
            try {
                contractCrew.methods.claim(nftArray)
                    .send({
                        from: account
                    })
                    .on("receipt", function (data) {
                        //Success
                        Init_Crew();
                    })
                    .on("error", function (error) {
                        alert(error.message);
                    });
            }
            catch (error) {
                console.log(error);
            }
        }

        async function LevelUp5(id) {
            try {
                var nonce = await web3.eth.getTransactionCount(account);
                for (let i = 0; i < 5; i++) {
                    LevelUp(id, (Number(nonce) + i));
                }
            }
            catch (error) {
                console.log(error);
            }
        }

        async function LevelUp25(id) {
            try {
                var nonce = await web3.eth.getTransactionCount(account);
                for (let i = 0; i < 25; i++) {
                    LevelUp(id, (Number(nonce) + i));
                }
            }
            catch (error) {
                console.log(error);
            }
        }
    </script>
</body>
</html>